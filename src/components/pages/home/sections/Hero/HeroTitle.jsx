import { useContext, useEffect, useRef } from 'react'
import gsap from 'gsap'
import { MyContext } from '../../../../../shared/hooks/MyContextProvider'

export default function HeroTitle() {
	const titleRef = useRef(null)
	const _ = useContext(MyContext)
	useEffect(() => {
		if (!_.loadingState) return;

		const lines = titleRef.current.querySelectorAll('.hero-content__title-line svg')
		gsap.fromTo(
			lines,
			{
				xPercent: 20,
				yPercent: 150,
				rotate: 10,
			},
			{
				xPercent: 0,
				yPercent: 0,
				rotate: 0,
				duration: 1,
				delay: 3.6,
				ease: 'power1.out', // аналог ease-out
			}
		)
	}, [])
	return (
		<h1 ref={titleRef} className="hero-content__title">
			<div className="hero-content__title-line"><svg width="865" height="197" viewBox="0 0 666 152" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 2.06241V43.3107H90.7463C55.6853 59.1913 41.8671 82.9091 41.8671 103.739C41.8671 128.488 61.0475 149.319 86.209 149.319C106.833 149.319 127.045 135.294 137.357 105.183C127.87 110.133 119.207 112.195 111.37 112.195C92.19 112.195 79.6093 98.7897 79.6093 81.2592C79.6093 69.5034 85.384 55.8915 98.3773 43.3107H161.281V2.06241H0ZM181.303 146.431H231.832V80.8467H248.744C246.887 87.6527 246.062 94.0462 246.062 99.8209C246.062 129.313 267.924 147.256 287.723 147.256C334.746 147.256 354.546 73.8345 358.464 69.7096C342.996 88.8901 318.247 102.502 295.56 102.502C280.092 102.502 265.655 96.3148 255.55 80.8467H271.843C304.223 80.8467 320.309 61.2537 320.309 41.4546C320.309 21.8616 304.223 2.06241 271.843 2.06241H181.303V146.431ZM231.832 43.1045H256.993C264.212 43.1045 267.718 50.1167 267.718 56.9227C267.718 63.7286 264.212 70.5346 256.993 70.5346H231.832V43.1045ZM353.257 84.1466C353.257 129.313 391.411 152 429.566 152C467.514 152 505.669 129.313 505.669 84.1466C505.669 60.8413 481.333 38.3609 481.333 21.6554C481.333 15.6744 488.345 6.59973 501.132 6.59973C506.082 6.59973 511.856 8.04343 518.456 11.3433C508.969 3.71235 496.388 0 484.22 0C462.152 0 440.909 11.962 440.909 32.7924C440.909 47.0231 454.934 68.4722 454.934 84.1466C454.934 99.2022 443.797 105.389 432.041 105.389C418.429 105.389 403.786 97.1398 403.786 84.1466V2.06241H353.257V84.1466ZM584.093 105.183V96.1086C585.125 80.0217 596.674 72.1845 605.336 72.1845C610.699 72.1845 615.03 75.0719 615.03 81.2592C615.03 86.0027 612.348 92.8087 605.336 101.265C630.91 94.8711 644.11 78.578 644.11 65.5848C644.11 55.8915 636.685 48.2605 621.629 48.2605C608.017 48.2605 588.631 59.8101 584.093 83.1153V43.3107H664.321V2.06241H533.564V146.431H665.559V105.183H584.093Z"></path></svg></div>
			<div className="hero-content__title-line"><svg width="485" height="197" viewBox="0 0 373 152" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 146.37H49.2593V5.62963H0V146.37ZM74.5219 76C74.5219 125.46 116.945 152 153.337 152C185.305 152 207.422 138.529 222.903 119.429L203.199 76C197.168 83.6402 179.274 104.952 155.951 104.952C135.443 104.952 125.189 90.4762 125.189 76C125.189 61.5238 135.443 46.8466 155.951 46.8466C163.792 46.8466 170.226 52.8783 170.226 61.7249C170.226 67.5556 167.411 74.5926 160.374 81.8307C190.131 65.746 204.406 46.4444 204.406 30.5609C204.406 13.0688 186.914 0 153.739 0C117.549 0 74.5219 26.5397 74.5219 76ZM292.729 106.159V97.3122C293.734 81.6296 304.993 73.9894 313.438 73.9894C318.665 73.9894 322.887 76.8042 322.887 82.836C322.887 87.4603 320.274 94.0952 313.438 102.339C338.369 96.1058 351.237 80.2222 351.237 67.5556C351.237 58.1058 343.999 50.6667 329.32 50.6667C316.051 50.6667 297.152 61.9259 292.729 84.6455V45.8413H370.94V5.62963H243.469V146.37H372.147V106.159H292.729Z"></path></svg></div>
			<div className="hero-content__title-line"><svg width="1123" height="197" viewBox="0 0 864 152" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 76C0 125.46 42.4232 152 78.8148 152C110.783 152 132.899 138.529 148.381 119.429L128.677 76C122.645 83.6402 104.751 104.952 81.4285 104.952C60.9206 104.952 50.6666 90.4762 50.6666 76C50.6666 61.5238 60.9206 46.8466 81.4285 46.8466C89.2698 46.8466 95.7037 52.8783 95.7037 61.7249C95.7037 67.5556 92.8889 74.5926 85.8518 81.8307C115.608 65.746 129.883 46.4444 129.883 30.5609C129.883 13.0688 112.391 0 79.2169 0C43.0264 0 0 26.5397 0 76ZM168.947 146.37H218.206V82.4339H234.693C232.884 89.0688 232.079 95.3016 232.079 100.931C232.079 129.683 253.391 147.175 272.693 147.175C318.534 147.175 337.836 75.5979 341.656 71.5767C326.577 90.2751 302.45 103.545 280.333 103.545C265.254 103.545 251.18 97.5132 241.328 82.4339H257.212C288.778 82.4339 304.46 63.3333 304.46 44.0317C304.46 24.9312 288.778 5.62963 257.212 5.62963H168.947V146.37ZM218.206 45.6402H242.735C249.772 45.6402 253.19 52.4762 253.19 59.1111C253.19 65.746 249.772 72.381 242.735 72.381H218.206V45.6402ZM387.849 106.159V97.3122C388.854 81.6296 400.114 73.9894 408.558 73.9894C413.786 73.9894 418.008 76.8042 418.008 82.836C418.008 87.4603 415.394 94.0952 408.558 102.339C433.489 96.1058 446.357 80.2222 446.357 67.5555C446.357 58.1058 439.119 50.6667 424.442 50.6667C411.172 50.6667 392.272 61.9259 387.849 84.6455V45.8413H466.061V5.62963H338.59V146.37H467.267V106.159H387.849ZM545.441 3.61905C538.001 20.1058 486.33 78.6138 486.33 116.614C486.33 133.503 496.583 150.593 526.139 150.593C557.705 150.593 577.007 111.788 577.007 86.8571C577.007 81.8307 576.203 77.4074 574.594 73.9894C575.8 92.8889 557.102 107.164 543.832 107.164C532.573 107.164 523.927 97.7143 523.927 80.6243C523.927 65.1428 530.964 43.4286 550.065 16.4868L551.271 20.1058L605.959 146.37H658.636L596.509 3.61905H545.441ZM679.839 146.37H729.098V31.3651C749.405 51.873 758.654 79.418 758.654 103.143C758.654 121.64 753.024 137.725 742.368 146.37C748.199 147.175 753.426 147.376 758.252 147.376C787.003 147.376 797.86 134.709 797.86 116.614C797.86 109.979 796.252 102.54 793.839 94.8995C792.029 89.0688 791.225 82.6349 791.225 76.4021C791.225 58.3069 798.664 39.8095 813.744 28.3492V146.37H863.003V5.62963H813.744C795.045 19.5027 778.156 37.5979 773.733 55.291C760.061 34.7831 743.172 16.0847 729.098 5.62963H679.839V146.37Z"></path></svg></div>
		</h1>
	)
}
